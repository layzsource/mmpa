import{U as t,A as e}from"./index-CXNtdoUk.js";console.log("ðŸŽµ signalAudio.js loaded");class n extends t{constructor(i="Microphone"){super("audio",i),this.audioEngine=e,this.frameListener=null,console.log("ðŸŽµ AudioSignal adapter created")}async init(){this.state="initializing",this.emitState("initializing");try{this.audioEngine.state==="idle"&&await this.audioEngine.init(),this.state="ready",this.emitState("ready"),console.log("ðŸŽµ AudioSignal adapter ready")}catch(i){throw this.state="error",this.emitState("error"),console.error("ðŸŽµ Audio signal init error:",i),i}}async start(){this.state==="idle"&&await this.init(),this.state==="ready"&&(this.audioEngine.state!=="running"&&await this.audioEngine.start(),this.frameListener=i=>{this.enabled&&(this.bands.bass=i.bass||0,this.bands.mid=i.mid||0,this.bands.treble=i.treble||0,this.bands.level=i.level||0,this.spectrum=this.audioEngine.getSpectrum(),this.emit("frame"))},this.audioEngine.on("frame",this.frameListener),await super.start(),console.log("ðŸŽµ Audio signal started (wrapped AudioEngine)"))}async stop(){await super.stop(),this.frameListener&&(this.audioEngine.off("frame",this.frameListener),this.frameListener=null),console.log("ðŸŽµ Audio signal stopped")}getAudioEngine(){return this.audioEngine}}console.log("ðŸŽµ Audio signal adapter ready");export{n as AudioSignal};
//# sourceMappingURL=signalAudio-G1tvKHgv.js.map
