// Timeline HUD (Phase 13.16)
// UI controls for timeline recording and playback

console.log("â±ï¸ hudTimeline.js loaded");

import { TimelineManager } from './timelineManager.js';
import { timelinePlaybackPanel } from './timelinePlaybackPanel.js'; // Phase 13.17

/**
 * Create Timeline HUD section
 * @param {HTMLElement} container - Container to append timeline controls to
 * @param {TimelineManager} timelineManager - Timeline manager instance
 */
export function createTimelineHudSection(container, timelineManager) {
  const section = document.createElement('div');
  section.className = 'hud-section';
  section.id = 'timeline-hud-section';

  const title = document.createElement('h3');
  title.textContent = 'Timeline & Playback';
  section.appendChild(title);

  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  // SIMPLE BUTTON TO OPEN CHRONELIX TIMELINE VIEWER
  // All timeline controls (scrubber, transport, etc.) are now in the viewer
  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  const openButton = document.createElement('button');
  openButton.textContent = 'ğŸ§¬ Open Chronelix Timeline Viewer';
  openButton.className = 'hud-btn';
  openButton.style.width = '100%';
  openButton.style.padding = '12px';
  openButton.style.marginBottom = '10px';
  openButton.style.fontSize = '13px';
  openButton.style.background = 'linear-gradient(90deg, rgba(0,206,209,0.3) 0%, rgba(148,0,211,0.3) 100%)';
  openButton.style.border = '1px solid #4CAF50';
  openButton.style.borderRadius = '4px';
  openButton.style.color = '#fff';
  openButton.style.cursor = 'pointer';
  openButton.style.transition = 'all 0.2s';

  openButton.addEventListener('click', () => {
    if (timelinePlaybackPanel.isOpen) {
      timelinePlaybackPanel.close();
      openButton.textContent = 'ğŸ§¬ Open Chronelix Timeline Viewer';
    } else {
      timelinePlaybackPanel.open();
      openButton.textContent = 'âœ• Close Chronelix Timeline Viewer';
    }
  });

  openButton.addEventListener('mouseenter', () => {
    openButton.style.transform = 'scale(1.02)';
    openButton.style.boxShadow = '0 0 15px rgba(76, 175, 80, 0.5)';
  });

  openButton.addEventListener('mouseleave', () => {
    openButton.style.transform = 'scale(1)';
    openButton.style.boxShadow = 'none';
  });

  section.appendChild(openButton);

  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  // INFO TEXT
  // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  const infoText = document.createElement('div');
  infoText.style.fontSize = '11px';
  infoText.style.color = '#888';
  infoText.style.lineHeight = '1.4';
  infoText.style.marginTop = '10px';
  infoText.innerHTML = `
    <strong>Chronelix Viewer:</strong> Full timeline playback controls<br>
    <strong>Features:</strong> Scrubber, transport controls, save/load<br>
    <strong>Tip:</strong> Click button above to open the viewer window
  `;
  section.appendChild(infoText);

  container.appendChild(section);

  console.log('â±ï¸ Timeline HUD created (simplified - controls moved to Chronelix viewer)');
}

console.log("â±ï¸ hudTimeline module ready");
